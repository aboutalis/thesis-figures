<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="ACTIVITY" height="440px" preserveAspectRatio="none" style="width:569px;height:440px;background:#FFFFFF;" version="1.1" viewBox="0 0 569 440" width="569px" zoomAndPan="magnify"><defs/><g><ellipse cx="316.2222" cy="20" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="252.3066" x="190.0688" y="50"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="232.3066" x="200.0688" y="71.1387">Token Near Expiry OR API Returns 401</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="232.3379" x="200.0532" y="103.9688"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="212.3379" x="210.0532" y="125.1074">Send Refresh Token Request to API</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="188.6973" x="221.8735" y="157.9375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="168.6973" x="231.8735" y="179.0762">API Validates Refresh Token</text><polygon fill="#F1F1F1" points="274.9534,211.9063,357.491,211.9063,369.491,223.9063,357.491,235.9063,274.9534,235.9063,262.9534,223.9063,274.9534,211.9063" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="82.5376" x="274.9534" y="227.7144">Token is Valid?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="19.0083" x="243.9451" y="221.312">yes</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="326.5508" x="11" y="245.9063"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="306.5508" x="21" y="267.0449">Issue New JWT and (optionally) New Refresh Token</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="198.8691" x="74.8408" y="299.875"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="178.8691" x="84.8408" y="321.0137">Update Session with New JWT</text><ellipse cx="174.2754" cy="364.8438" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="174.2754" cy="364.8438" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="201.2363" x="357.5508" y="245.9063"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="181.2363" x="367.5508" y="267.0449">Return Error - Session Expired</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="162.541" x="376.8984" y="299.875"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="142.541" x="386.8984" y="321.0137">Frontend Logs Out User</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="100.9824" x="407.6777" y="353.8438"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="80.9824" x="417.6777" y="374.9824">Clear Session</text><ellipse cx="458.1689" cy="418.8125" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="458.1689" cy="418.8125" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="316.2222" x2="316.2222" y1="30" y2="50"/><polygon fill="#181818" points="312.2222,40,316.2222,50,320.2222,40,316.2222,44" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="316.2222" x2="316.2222" y1="83.9688" y2="103.9688"/><polygon fill="#181818" points="312.2222,93.9688,316.2222,103.9688,320.2222,93.9688,316.2222,97.9688" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="316.2222" x2="316.2222" y1="137.9375" y2="157.9375"/><polygon fill="#181818" points="312.2222,147.9375,316.2222,157.9375,320.2222,147.9375,316.2222,151.9375" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="174.2754" x2="174.2754" y1="279.875" y2="299.875"/><polygon fill="#181818" points="170.2754,289.875,174.2754,299.875,178.2754,289.875,174.2754,293.875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="174.2754" x2="174.2754" y1="333.8438" y2="353.8438"/><polygon fill="#181818" points="170.2754,343.8438,174.2754,353.8438,178.2754,343.8438,174.2754,347.8438" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="458.1689" x2="458.1689" y1="279.875" y2="299.875"/><polygon fill="#181818" points="454.1689,289.875,458.1689,299.875,462.1689,289.875,458.1689,293.875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="458.1689" x2="458.1689" y1="333.8438" y2="353.8438"/><polygon fill="#181818" points="454.1689,343.8438,458.1689,353.8438,462.1689,343.8438,458.1689,347.8438" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="458.1689" x2="458.1689" y1="387.8125" y2="407.8125"/><polygon fill="#181818" points="454.1689,397.8125,458.1689,407.8125,462.1689,397.8125,458.1689,401.8125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="262.9534" x2="174.2754" y1="223.9063" y2="223.9063"/><line style="stroke:#181818;stroke-width:1;" x1="174.2754" x2="174.2754" y1="223.9063" y2="245.9063"/><polygon fill="#181818" points="170.2754,235.9063,174.2754,245.9063,178.2754,235.9063,174.2754,239.9063" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="369.491" x2="458.1689" y1="223.9063" y2="223.9063"/><line style="stroke:#181818;stroke-width:1;" x1="458.1689" x2="458.1689" y1="223.9063" y2="245.9063"/><polygon fill="#181818" points="454.1689,235.9063,458.1689,245.9063,462.1689,235.9063,458.1689,239.9063" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="316.2222" x2="316.2222" y1="191.9063" y2="211.9063"/><polygon fill="#181818" points="312.2222,201.9063,316.2222,211.9063,320.2222,201.9063,316.2222,205.9063" style="stroke:#181818;stroke-width:1;"/><!--SRC=[NP31JiCm44Jl_eev9WSaa3Yb1rIX8hL25AKjd2rbqrYrxB2xKSdVrqve4HpjVM_MOr7BQgfzF5706rd6whjtF69RO_c-HaqwS10ytZyiJBMZqAIhbaawp4vDNmE9GcFc4vEj3-jTOvNaBxmmnhKePj79Z3sLq2wTYv6aD42r5XaelUMCpUSUDcqiOgyk1klzM4w3Vwb9ElHv7tOaaaYSdNRNY3mNZRqXBvJPkHDMp95nTtEcujHCSIySW-Qoh_4es0wAWn1FesUVV-b7-iqEZMil]--></g></svg>